<Window x:Class="FrierenHotspot.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Frieren.Net" Height="660" Width="420"
        WindowStartupLocation="CenterScreen" WindowStyle="None" AllowsTransparency="True" Background="Transparent">
    <Window.Resources>
        <Style x:Key="IconButtonStyle" TargetType="ButtonBase">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ButtonBase">
                        <Border Background="{TemplateBinding Background}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Foreground" Value="#FFFFFF" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style TargetType="ToolTip">
            <Setter Property="Background" Value="#141419"/>
            <Setter Property="Foreground" Value="#E0E0E0"/>
            <Setter Property="BorderBrush" Value="#FF4081"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="10"/>
        </Style>
        <Style TargetType="{x:Type ScrollBar}">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Width" Value="8"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type ScrollBar}">
                        <Border Background="Transparent">
                            <Track x:Name="PART_Track" IsDirectionReversed="true">
                                <Track.Thumb>
                                    <Thumb>
                                        <Thumb.Template>
                                            <ControlTemplate TargetType="Thumb">
                                                <Border Background="#2D2D3A" CornerRadius="4" Margin="2,0"/>
                                            </ControlTemplate>
                                        </Thumb.Template>
                                    </Thumb>
                                </Track.Thumb>
                            </Track>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <ControlTemplate x:Key="ComboBoxToggleButton" TargetType="ToggleButton">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition />
                    <ColumnDefinition Width="20" />
                </Grid.ColumnDefinitions>
                <Border x:Name="Border" Grid.ColumnSpan="2" CornerRadius="6" Background="#121216" BorderBrush="#23232D" BorderThickness="1" />
                <Path x:Name="Arrow" Grid.Column="1" Fill="#6E6E7A" HorizontalAlignment="Center" VerticalAlignment="Center" Data="M0,0 L10,0 L5,5 z" />
            </Grid>
            <ControlTemplate.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter TargetName="Border" Property="BorderBrush" Value="#FF4081" />
                    <Setter TargetName="Arrow" Property="Fill" Value="#FF4081" />
                </Trigger>
            </ControlTemplate.Triggers>
        </ControlTemplate>
        <Style TargetType="{x:Type ComboBox}">
            <Setter Property="Foreground" Value="#E0E0E0"/>
            <Setter Property="Background" Value="#121216"/>
            <Setter Property="BorderBrush" Value="#23232D"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type ComboBox}">
                        <Grid>
                            <ToggleButton Name="ToggleButton" Template="{StaticResource ComboBoxToggleButton}" Grid.Column="2" Focusable="false" IsChecked="{Binding Path=IsDropDownOpen,Mode=TwoWay,RelativeSource={RelativeSource TemplatedParent}}" ClickMode="Press"/>
                            <ContentPresenter Name="ContentSite" IsHitTestVisible="False" Content="{TemplateBinding SelectionBoxItem}" ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}" ContentTemplateSelector="{TemplateBinding ItemTemplateSelector}" Margin="10,3,23,3" VerticalAlignment="Center" HorizontalAlignment="Left" />
                            <Popup Name="Popup" Placement="Bottom" IsOpen="{TemplateBinding IsDropDownOpen}" AllowsTransparency="True" Focusable="False" PopupAnimation="Slide">
                                <Grid Name="DropDown" SnapsToDevicePixels="True" MinWidth="{TemplateBinding ActualWidth}" MaxHeight="{TemplateBinding MaxDropDownHeight}">
                                    <Border x:Name="DropDownBorder" Background="#121216" BorderThickness="1" BorderBrush="#FF4081" CornerRadius="6" Margin="0,2,0,0"/>
                                    <ScrollViewer Margin="1" SnapsToDevicePixels="True">
                                        <StackPanel IsItemsHost="True" KeyboardNavigation.DirectionalNavigation="Contained" />
                                    </ScrollViewer>
                                </Grid>
                            </Popup>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style TargetType="{x:Type ComboBoxItem}">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="#E0E0E0"/>
            <Setter Property="Padding" Value="10,8"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type ComboBoxItem}">
                        <Border x:Name="Bd" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}" Padding="{TemplateBinding Padding}" SnapsToDevicePixels="true">
                            <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Bd" Property="Background" Value="#FF4081"/>
                                <Setter Property="Foreground" Value="#FFFFFF"/>
                            </Trigger>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter TargetName="Bd" Property="Background" Value="#2D2D3A"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>
    <Border CornerRadius="12" Background="#0A0A0C" BorderBrush="#1C1C24" BorderThickness="1">
        <Border.Effect>
            <DropShadowEffect Color="#000000" BlurRadius="30" ShadowDepth="10" Opacity="0.5"/>
        </Border.Effect>
        <Grid Margin="24">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <Grid Grid.Row="0" MouseDown="DragWindow_MouseDown" Background="Transparent" Margin="0,0,0,25">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" Text="◆" Foreground="#FF4081" FontSize="20" Margin="0,0,12,0" VerticalAlignment="Center"/>
                <TextBlock x:Name="LblMainTitle" Grid.Column="1" Text="VIRTUAL ROUTER" Foreground="#E0E0E0" FontSize="13" FontWeight="Bold" VerticalAlignment="Center"/>
                <StackPanel Grid.Column="2" Orientation="Horizontal" VerticalAlignment="Center">
                    <Button Content="EN" Click="BtnLang_Click" Tag="en" Style="{StaticResource IconButtonStyle}" Margin="0,0,8,0" Foreground="#8A8A93" FontSize="12" FontWeight="SemiBold"/>
                    <Button Content="RU" Click="BtnLang_Click" Tag="ru" Style="{StaticResource IconButtonStyle}" Margin="0,0,16,0" Foreground="#8A8A93" FontSize="12" FontWeight="SemiBold"/>
                    <Button Content="—" Click="BtnMinimizeTray_Click" Style="{StaticResource IconButtonStyle}" Margin="0,0,10,0" Foreground="#8A8A93" FontSize="14" FontWeight="Bold" VerticalAlignment="Center"/>
                    <Button Content="✕" Click="BtnClose_Click" Style="{StaticResource IconButtonStyle}" Foreground="#666670" FontSize="16" VerticalAlignment="Center"/>
                </StackPanel>
            </Grid>
            <StackPanel Grid.Row="1">
                <StackPanel Orientation="Horizontal" Margin="0,0,0,6">
                    <TextBlock x:Name="LblSsid" Text="Network Name (SSID)" Foreground="#6E6E7A" FontSize="11" FontWeight="SemiBold" VerticalAlignment="Center"/>
                    <TextBlock x:Name="TipSsid" Text=" [?] " Foreground="#FF4081" FontSize="11" FontWeight="Bold" Background="Transparent" ToolTipService.InitialShowDelay="100" Cursor="Help" Margin="5,0,0,0"/>
                </StackPanel>
                <Border Background="#121216" BorderBrush="#23232D" BorderThickness="1" CornerRadius="6" Margin="0,0,0,16">
                    <TextBox x:Name="TxtSsid" Text="morgunosu_net" Background="Transparent" Foreground="#FFFFFF" BorderThickness="0" Padding="12,10" FontSize="13"/>
                </Border>
                <StackPanel Orientation="Horizontal" Margin="0,0,0,6">
                    <TextBlock x:Name="LblPassword" Text="Password (min. 8 chars)" Foreground="#6E6E7A" FontSize="11" FontWeight="SemiBold" VerticalAlignment="Center"/>
                    <TextBlock x:Name="TipPassword" Text=" [?] " Foreground="#FF4081" FontSize="11" FontWeight="Bold" Background="Transparent" ToolTipService.InitialShowDelay="100" Cursor="Help" Margin="5,0,0,0"/>
                </StackPanel>
                <Border Background="#121216" BorderBrush="#23232D" BorderThickness="1" CornerRadius="6" Margin="0,0,0,16">
                    <Grid>
                        <PasswordBox x:Name="PboxPassword" Background="Transparent" Foreground="#FFFFFF" BorderThickness="0" Padding="12,10,35,10" FontSize="13" PasswordChanged="PboxPassword_PasswordChanged"/>
                        <TextBox x:Name="TxtPasswordVisible" Visibility="Collapsed" Background="Transparent" Foreground="#FFFFFF" BorderThickness="0" Padding="12,10,35,10" FontSize="13" TextChanged="TxtPasswordVisible_TextChanged"/>
                        <ToggleButton x:Name="TglShowPassword" Content="👁" Style="{StaticResource IconButtonStyle}" HorizontalAlignment="Right" Margin="0,0,10,0" Foreground="#4A4A55" Click="TglShowPassword_Click"/>
                    </Grid>
                </Border>
                <StackPanel Orientation="Horizontal" Margin="0,0,0,6">
                    <TextBlock x:Name="LblAdapter" Text="Your Internet Source" Foreground="#6E6E7A" FontSize="11" FontWeight="SemiBold" VerticalAlignment="Center"/>
                    <TextBlock x:Name="TipAdapter" Text=" [?] " Foreground="#FF4081" FontSize="11" FontWeight="Bold" Background="Transparent" ToolTipService.InitialShowDelay="100" Cursor="Help" Margin="5,0,0,0"/>
                </StackPanel>
                <Grid Margin="0,0,0,24">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <ComboBox x:Name="CmbAdapters" Grid.Column="0" DisplayMemberPath="Name" SelectedValuePath="Id" Margin="0,0,10,0" Height="40" VerticalContentAlignment="Center"/>
                    <Button x:Name="BtnShare" Grid.Column="1" Click="BtnShare_Click" Background="#23232D" Foreground="#E0E0E0" FontSize="11" FontWeight="SemiBold" BorderThickness="0" Padding="12,0" Height="40" Cursor="Hand">
                        <Button.Style>
                            <Style TargetType="Button">
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate TargetType="Button">
                                            <Border x:Name="border" Background="{TemplateBinding Background}" CornerRadius="6">
                                                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                            </Border>
                                            <ControlTemplate.Triggers>
                                                <Trigger Property="IsMouseOver" Value="True">
                                                    <Setter TargetName="border" Property="Background" Value="#313142"/>
                                                    <Setter Property="Foreground" Value="#FFFFFF"/>
                                                </Trigger>
                                            </ControlTemplate.Triggers>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                            </Style>
                        </Button.Style>
                    </Button>
                </Grid>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="12"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Button x:Name="BtnStart" Grid.Column="0" Click="BtnStart_Click" Height="45" Foreground="#0A0A0C" FontSize="12" FontWeight="Bold" Cursor="Hand">
                        <Button.Style>
                            <Style TargetType="Button">
                                <Setter Property="Background" Value="#66BB6A"/>
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate TargetType="Button">
                                            <Grid>
                                                <Border x:Name="glow" Background="{TemplateBinding Background}" CornerRadius="6" Opacity="0">
                                                    <Border.Effect>
                                                        <DropShadowEffect Color="#66BB6A" BlurRadius="20" ShadowDepth="0"/>
                                                    </Border.Effect>
                                                </Border>
                                                <Border x:Name="border" Background="{TemplateBinding Background}" CornerRadius="6">
                                                    <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                </Border>
                                            </Grid>
                                            <ControlTemplate.Triggers>
                                                <Trigger Property="IsMouseOver" Value="True">
                                                    <Setter TargetName="glow" Property="Opacity" Value="0.8"/>
                                                </Trigger>
                                                <Trigger Property="IsPressed" Value="True">
                                                    <Setter TargetName="glow" Property="Opacity" Value="0.3"/>
                                                    <Setter TargetName="border" Property="Background" Value="#55AA59"/>
                                                </Trigger>
                                            </ControlTemplate.Triggers>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                            </Style>
                        </Button.Style>
                    </Button>
                    <Button x:Name="BtnStop" Grid.Column="2" Click="BtnStop_Click" Height="45" Foreground="#FFFFFF" FontSize="12" FontWeight="Bold" Cursor="Hand">
                        <Button.Style>
                            <Style TargetType="Button">
                                <Setter Property="Background" Value="#EF5350"/>
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate TargetType="Button">
                                            <Grid>
                                                <Border x:Name="glow" Background="{TemplateBinding Background}" CornerRadius="6" Opacity="0">
                                                    <Border.Effect>
                                                        <DropShadowEffect Color="#EF5350" BlurRadius="20" ShadowDepth="0"/>
                                                    </Border.Effect>
                                                </Border>
                                                <Border x:Name="border" Background="{TemplateBinding Background}" CornerRadius="6">
                                                    <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                </Border>
                                            </Grid>
                                            <ControlTemplate.Triggers>
                                                <Trigger Property="IsMouseOver" Value="True">
                                                    <Setter TargetName="glow" Property="Opacity" Value="0.8"/>
                                                </Trigger>
                                                <Trigger Property="IsPressed" Value="True">
                                                    <Setter TargetName="glow" Property="Opacity" Value="0.3"/>
                                                    <Setter TargetName="border" Property="Background" Value="#D32F2F"/>
                                                </Trigger>
                                            </ControlTemplate.Triggers>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                            </Style>
                        </Button.Style>
                    </Button>
                </Grid>
            </StackPanel>
            <Grid Grid.Row="2" Margin="0,24,0,0">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                <TextBlock x:Name="LblTerminal" Grid.Row="0" Foreground="#4A4A55" FontSize="10" FontWeight="Bold" Margin="0,0,0,8"/>
                <Border Grid.Row="1" Background="#050506" BorderBrush="#121216" BorderThickness="1" CornerRadius="6" Padding="12">
                    <ScrollViewer x:Name="TerminalScroll" VerticalScrollBarVisibility="Auto">
                        <TextBlock x:Name="TerminalOutput" Foreground="#4ADE80" FontFamily="Consolas, monospace" FontSize="11" TextWrapping="Wrap" LineHeight="16"/>
                    </ScrollViewer>
                </Border>
            </Grid>
        </Grid>
    </Border>
</Window>